{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lays.js/dist/lays.cjs.js","webpack:///./assets/js/build/polyfills.js","webpack:///./node_modules/in-viewport/in-viewport.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/a11y-dialog/dist/a11y-dialog.esm.js","webpack:///./assets/js/build/script.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extend","obj1","obj2","attrname","queue","LaysQueue","size","Infinity","fixedSize","push","apply","this","arguments","length","splice","unshift","LaysEvent$1","fire","event","handlers","map","handler","on","callback","options","parent","defaults","prependItems","maxItems","undefined","breakpoints","540","720","1024","1280","pushType","items","newItems","restItems","colsNum","classList","add","func","delta","to","el","setPosition","cols","columns","Array","width","offsetWidth","maxHeight","col","item","left","top","style","cssText","offsetHeight","height","index","next","reduce","max","render","fragment","document","createDocumentFragment","removeChild","appendChild","placeToDOM","keys","point","num","from","inRange","window","addEventListener","clearTimeout","setTimeout","children","_items","Modernizr","objectfit","querySelectorAll","forEach","imgURL","querySelector","src","backgroundImage","elt","params","cb","opts","container","global","body","offset","debounce","failsafe","debounceValue","instances","_debounce","_failsafe","isInViewport","watches","indexOf","isWatched","remove","pos","checkAll","createWatches","scrollContainer","debouncedCheck","isVisible","wait","context","args","callNow","immediate","timeout","later","addEvent","supportsMutationObserver","observer","MutationObserver","mutations","some","knownNodes","filter","concat","mutation","nodes","slice","addedNodes","target","observe","childList","subtree","attributes","observeDOM","setInterval","contains","documentElement","eltRect","getBoundingClientRect","viewport","right","clientWidth","bottom","clientHeight","containerRect","remote","watch","dispose","createRemote","createInViewport","type","fn","attachEvent","compareDocumentPosition","a","b","parentNode","g","Function","e","focusableSelectors","A11yDialog","element","_show","show","_hide","hide","_maintainFocus","_bindKeypress","$el","shown","_id","getAttribute","id","_previouslyFocused","_listeners","$$","selector","collection","moveFocusToDialog","node","focus","instantiateDialogs","setAttribute","hasAttribute","_openers","opener","_closers","closer","_fire","activeElement","removeAttribute","removeEventListener","destroy","off","listeners","domEvent","CustomEvent","detail","dispatchEvent","listener","which","preventDefault","focusableChildren","join","child","getClientRects","getFocusableChildren","focusedItemIndex","shiftKey","trapTabKey","closest","readyState","requestAnimationFrame","inViewport","require","maGallery","Lays","576","768","992","1200","galleryItems","modalArtworks","idx","itemTitle","innerText","imageFullPath","dataset","imageFull","itemLink","itemArtist","artist","itemArtistUrl","artistUrl","itemPostId","postId","modal","createElement","innerHTML","dialogEl","getElementById","mainEl","dialog","triggerEl","isScrolling","galleryScroller","buttonPrev","buttonNext","navigateScroller","evt","scrollIntoView","behavior","console","log","disabled","history","replaceState","location","hash","pathname","galleryItem","itemHeading","linkInner","itemIndex","onclick","targetItem","startsWith","itemToOpenPostId","replace","itemToOpen","itemToOpenButton","click","artworkSeriesDialogEl","artworkSeriesDialog","image","imageElement","imageElementScale","start","distance","Math","hypot","touches","pageX","pageY","x","y","scale","startDistance","min","deltaX","deltaY","transform","WebkitTransform","zIndex"],"mappings":"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","file":"scripts.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","'use strict';\n\n/**\n * Lays.js helper functions.\n */\n\nvar extend = function extend(obj1, obj2) {\n    for (var attrname in obj2) {\n        obj1[attrname] = obj2[attrname];\n    }\n};\n\nvar inRange = function inRange(num) {\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var to = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n    return num > from ? num <= to ? num : to : from;\n};\n\nvar fillZero = function fillZero(cols) {\n    return Array.apply(null, Array(cols)).map(function () {\n        return 0;\n    });\n};\n\nvar getMax = function getMax(elements) {\n    return elements.reduce(function (max, value) {\n        return value > max ? value : max;\n    }, 0);\n};\n\nfunction wait(func, delta) {\n    var to = void 0;\n\n    return function () {\n        if (to) clearTimeout(to);\n\n        to = setTimeout(func, delta);\n    };\n}\n\nvar LaysQueue = function LaysQueue(size) {\n    var queue = [];\n\n    size = size || Infinity;\n\n    queue.fixedSize = size;\n\n    queue.push = function () {\n        [].push.apply(this, arguments);\n\n        if (this.length <= this.fixedSize) return [];\n\n        return this.splice(0, this.length - this.fixedSize);\n    };\n\n    queue.unshift = function () {\n        [].unshift.apply(this, arguments);\n\n        if (this.length <= this.fixedSize) return [];\n\n        return this.splice(this.fixedSize);\n    };\n\n    return queue;\n};\n\nvar LaysEvent = function LaysEvent() {\n    var queue = {};\n\n    return {\n        fire: function fire(event) {\n            var handlers = queue[event];\n\n            if (typeof handlers === 'undefined') {\n                return;\n            }\n\n            handlers.map(function (handler) {\n                return handler();\n            });\n        },\n        on: function on(event, callback) {\n            if (typeof queue[event] === 'undefined') queue[event] = [];\n\n            queue[event].push(callback);\n        }\n    };\n};\n\nvar LaysEvent$1 = LaysEvent();\n\n/**\n * Lays.js v1.1.0\n * @description Tiny masonry layout library.\n * @author BatenkovT\n */\n\n/**\n * Returns new object with Lays methods.\n *\n * @module Lays\n * @param {Object} options Object with wrapper element and breakpoints\n */\nvar Lays = function Lays(options) {\n    var parent = options.parent;\n\n    if (!parent) return;\n\n    var defaults = {\n        prependItems: false,\n        maxItems: undefined,\n        breakpoints: {\n            540: 2,\n            720: 3,\n            1024: 4,\n            1280: 5\n        }\n    };\n\n    extend(defaults.breakpoints, options.breakpoints);\n    extend(defaults, options);\n\n    var prependItems = defaults.prependItems,\n        maxItems = defaults.maxItems,\n        breakpoints = defaults.breakpoints;\n\n\n    var pushType = prependItems ? 'unshift' : 'push';\n\n    // all items\n    var items = LaysQueue(maxItems);\n\n    // items to add\n    var newItems = LaysQueue(maxItems);\n\n    // items to remove\n    var restItems = [];\n\n    var colsNum = 1;\n\n    parent.classList.add('_laysContainer');\n\n    /**\n     * Public method. \n     * Add new DOM element to show in layout.\n     *\n     * @method add\n     * @param {Object} el DOM element that should be added to masonry\n     * @param {Boolean} [prepend=false] Add DOM element to the beginning or end of the array of elements\n     */\n    var add = function add(el) {\n        el.classList.add('_laysItem');\n\n        [].push.apply(restItems, items[pushType](el));\n        newItems[pushType](el);\n    };\n\n    /**\n     * Return next column to which masonry item should be added.\n     *\n     * @method next\n     * @param {Object} item DOM element\n     * @param {Array} columns Array with maximum column heights\n     * @param {Number} col Current column number\n     * @return {Number} col Next column number\n     */\n    var next = function next(item, columns, col) {\n        columns[col] += item.offsetHeight;\n\n        columns.map(function (height, index) {\n            col = height < columns[col] ? index : col;\n        });\n\n        return col;\n    };\n\n    /**\n     * Set masonry items position.\n     *\n     * @method setPosition\n     */\n    var setPosition = function setPosition() {\n        var columns = fillZero(colsNum);\n        var width = parent.offsetWidth / colsNum;\n        var maxHeight = 0;\n        var col = 0;\n\n        items.map(function (item) {\n            var left = width * col;\n            var top = columns[col];\n\n            item.style.cssText += 'position:absolute;width:' + width + 'px;-ms-transform:translate(' + left + 'px,' + top + 'px);transform:translate(' + left + 'px,' + top + 'px);';\n\n            col = next(item, columns, col);\n        });\n\n        maxHeight = getMax(columns);\n\n        parent.style.cssText += 'width:100%;height:' + maxHeight + 'px;';\n    };\n\n    /**\n     * Append new (only new) masonry items to DOM.\n     *\n     * @method placeToDOM\n     */\n    var placeToDOM = function placeToDOM() {\n        if (!newItems.length) return;\n\n        var fragment = document.createDocumentFragment();\n\n        restItems.map(function (item) {\n            return parent.removeChild(item);\n        });\n        newItems.map(function (item) {\n            return fragment.appendChild(item);\n        });\n\n        newItems.length = 0;\n        restItems.length = 0;\n\n        parent.appendChild(fragment);\n    };\n\n    /**\n     * Set columns number depends on parent element width.\n     *\n     * @method setCols\n     */\n    var setCols = function setCols() {\n        colsNum = 1;\n\n        Object.keys(breakpoints).map(function (point) {\n            if (parent.offsetWidth > point) colsNum = inRange(breakpoints[point], 1, 10);\n        });\n    };\n\n    /**\n     * Add window resize listener to recalculate layout.\n     *\n     * @method setResizeListener\n     */\n    var addResizeListener = function addResizeListener() {\n        window.addEventListener('resize', wait(function () {\n            LaysEvent$1.fire('resize');\n\n            render();\n        }, 200));\n    };\n\n    var init = function init() {\n        [].map.call(parent.children, function (el) {\n            return add(el);\n        });\n    };\n\n    /**\n     * Public method. \n     * Renders masonry layout.\n     *\n     * @method render\n     */\n    var render = function render() {\n        placeToDOM();\n        setCols();\n        setPosition();\n    };\n\n    addResizeListener();\n    init();\n\n    // return public methods\n    return {\n        add: add,\n        render: render,\n        on: LaysEvent$1.on,\n        _items: items\n    };\n};\n\nmodule.exports = Lays;\n","/*\n * Polyfill for object fit css properties.\n * Requires Modernizr detection feature to detect wether the browser supports Object Fit\n * \n * Usage:\n * Wrap your object fit image in a div or other block element and give it a class of .ob-image\n * The image URL will be applied to the wrapping element as a background-image.\n*/\n\nif (!Modernizr.objectfit) {\n    const imgContainer = document.querySelectorAll('.ob-image');\n\n    imgContainer.forEach((el) => {\n        const imgURL = el.querySelector('img').src;\n\n        if (imgURL) {\n            el.style.backgroundImage = `url('${imgURL}')`;\n            el.classList.add('ob-image--active');\n        }\n    });\n};","module.exports = inViewport;\n\nvar instances = [];\nvar supportsMutationObserver = typeof global.MutationObserver === 'function';\n\nfunction inViewport(elt, params, cb) {\n  var opts = {\n    container: global.document.body,\n    offset: 0,\n    debounce: 15,\n    failsafe: 150\n  };\n\n  if (params === undefined || typeof params === 'function') {\n    cb = params;\n    params = {};\n  }\n\n  var container = opts.container = params.container || opts.container;\n  var offset = opts.offset = params.offset || opts.offset;\n  var debounceValue = opts.debounce = params.debounce || opts.debounce;\n  var failsafe = opts.failsafe = params.failsafe || opts.failsafe;\n\n  // ensure backward compatibility with failsafe as boolean\n  if (failsafe === true) {\n    failsafe = 150;\n  } else if(failsafe === false) {\n    failsafe = 0;\n  }\n\n  // failsafe check always needs to be higher than debounceValue\n  if (failsafe > 0 && failsafe < debounceValue) {\n      failsafe = debounceValue + 50;\n  }\n\n  for (var i = 0; i < instances.length; i++) {\n    if (\n      instances[i].container === container &&\n      instances[i]._debounce === debounceValue &&\n      instances[i]._failsafe === failsafe\n    ) {\n      return instances[i].isInViewport(elt, offset, cb);\n    }\n  }\n\n  return instances[\n    instances.push(createInViewport(container, debounceValue, failsafe)) - 1\n  ].isInViewport(elt, offset, cb);\n}\n\nfunction addEvent(el, type, fn) {\n  if (el.attachEvent) {\n    el.attachEvent('on' + type, fn);\n  } else {\n    el.addEventListener(type, fn, false);\n  }\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this, args = arguments;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n\n    function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }\n  };\n}\n\n// https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\nvar contains = function() {\n  if (!global.document) {\n    return true;\n  }\n  return global.document.documentElement.compareDocumentPosition ?\n    function (a, b) {\n      return !!(a.compareDocumentPosition(b) & 16);\n    } :\n    global.document.documentElement.contains ?\n      function (a, b) {\n        return a !== b && ( a.contains ? a.contains(b) : false );\n      } :\n      function (a, b) {\n        while (b = b.parentNode) {\n          if (b === a) {\n            return true;\n          }\n        }\n        return false;\n      };\n}\n\nfunction createInViewport(container, debounceValue, failsafe) {\n  var watches = createWatches();\n\n  var scrollContainer = container === global.document.body ? global : container;\n  var debouncedCheck = debounce(watches.checkAll(watchInViewport), debounceValue);\n\n  addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n  if (scrollContainer === global) {\n    addEvent(global, 'resize', debouncedCheck);\n  }\n\n  if (supportsMutationObserver) {\n    observeDOM(watches, container, debouncedCheck);\n  }\n\n  // failsafe check, every X we check for visible images\n  // usecase: a hidden parent containing eleements\n  // when the parent becomes visible, we have no event that the children\n  // became visible\n  if (failsafe > 0) {\n    setInterval(debouncedCheck, failsafe);\n  }\n\n  function isInViewport(elt, offset, cb) {\n    if (!cb) {\n      return isVisible(elt, offset);\n    }\n\n    var remote = createRemote(elt, offset, cb);\n    remote.watch();\n    return remote;\n  }\n\n  function createRemote(elt, offset, cb) {\n    function watch() {\n      watches.add(elt, offset, cb);\n    }\n\n    function dispose() {\n      watches.remove(elt);\n    }\n\n    return {\n      watch: watch,\n      dispose: dispose\n    };\n  }\n\n  function watchInViewport(elt, offset, cb) {\n    if (isVisible(elt, offset)) {\n      watches.remove(elt);\n      cb(elt);\n    }\n  }\n\n  function isVisible(elt, offset) {\n    if (!elt) {\n      return false;\n    }\n\n    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n      return false;\n    }\n\n    // Check if the element is visible\n    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n    if (!elt.offsetWidth || !elt.offsetHeight) {\n      return false;\n    }\n\n    var eltRect = elt.getBoundingClientRect();\n    var viewport = {};\n\n    if (container === global.document.body) {\n      viewport = {\n        top: -offset,\n        left: -offset,\n        right: global.document.documentElement.clientWidth + offset,\n        bottom: global.document.documentElement.clientHeight + offset\n      };\n    } else {\n      var containerRect = container.getBoundingClientRect();\n      viewport = {\n        top: containerRect.top - offset,\n        left: containerRect.left - offset,\n        right: containerRect.right + offset,\n        bottom: containerRect.bottom + offset\n      };\n    }\n\n    // The element must overlap with the visible part of the viewport\n    var visible =\n      (\n        eltRect.right >= viewport.left &&\n        eltRect.left <= viewport.right &&\n        eltRect.bottom >= viewport.top &&\n        eltRect.top <= viewport.bottom\n      );\n\n    return visible;\n  }\n\n  return {\n    container: container,\n    isInViewport: isInViewport,\n    _debounce: debounceValue,\n    _failsafe: failsafe\n  };\n}\n\nfunction createWatches() {\n  var watches = [];\n\n  function add(elt, offset, cb) {\n    if (!isWatched(elt)) {\n      watches.push([elt, offset, cb]);\n    }\n  }\n\n  function remove(elt) {\n    var pos = indexOf(elt);\n    if (pos !== -1) {\n      watches.splice(pos, 1);\n    }\n  }\n\n  function indexOf(elt) {\n    for (var i = watches.length - 1; i >= 0; i--) {\n      if (watches[i][0] === elt) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  function isWatched(elt) {\n    return indexOf(elt) !== -1;\n  }\n\n  function checkAll(cb) {\n    return function () {\n      for (var i = watches.length - 1; i >= 0; i--) {\n        cb.apply(this, watches[i]);\n      }\n    };\n  }\n\n  return {\n    add: add,\n    remove: remove,\n    isWatched: isWatched,\n    checkAll: checkAll\n  };\n}\n\nfunction observeDOM(watches, container, cb) {\n  var observer = new MutationObserver(watch);\n  var filter = Array.prototype.filter;\n  var concat = Array.prototype.concat;\n\n  observer.observe(container, {\n    childList: true,\n    subtree: true,\n    // changes like style/width/height/display will be catched\n    attributes: true\n  });\n\n  function watch(mutations) {\n    // some new DOM nodes where previously watched\n    // we should check their positions\n    if (mutations.some(knownNodes) === true) {\n      setTimeout(cb, 0);\n    }\n  }\n\n  function knownNodes(mutation) {\n    var nodes = concat.call([],\n      Array.prototype.slice.call(mutation.addedNodes),\n      mutation.target\n    );\n    return filter.call(nodes, watches.isWatched).length > 0;\n  }\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var focusableSelectors = [\n  'a[href]:not([tabindex^=\"-\"])',\n  'area[href]:not([tabindex^=\"-\"])',\n  'input:not([type=\"hidden\"]):not([type=\"radio\"]):not([disabled]):not([tabindex^=\"-\"])',\n  'input[type=\"radio\"]:not([disabled]):not([tabindex^=\"-\"])',\n  'select:not([disabled]):not([tabindex^=\"-\"])',\n  'textarea:not([disabled]):not([tabindex^=\"-\"])',\n  'button:not([disabled]):not([tabindex^=\"-\"])',\n  'iframe:not([tabindex^=\"-\"])',\n  'audio[controls]:not([tabindex^=\"-\"])',\n  'video[controls]:not([tabindex^=\"-\"])',\n  '[contenteditable]:not([tabindex^=\"-\"])',\n  '[tabindex]:not([tabindex^=\"-\"])',\n];\n\nvar TAB_KEY = 9;\nvar ESCAPE_KEY = 27;\n\n/**\n * Define the constructor to instantiate a dialog\n *\n * @constructor\n * @param {Element} element\n */\nfunction A11yDialog(element) {\n  // Prebind the functions that will be bound in addEventListener and\n  // removeEventListener to avoid losing references\n  this._show = this.show.bind(this);\n  this._hide = this.hide.bind(this);\n  this._maintainFocus = this._maintainFocus.bind(this);\n  this._bindKeypress = this._bindKeypress.bind(this);\n\n  this.$el = element;\n  this.shown = false;\n  this._id = this.$el.getAttribute('data-a11y-dialog') || this.$el.id;\n  this._previouslyFocused = null;\n  this._listeners = {};\n\n  // Initialise everything needed for the dialog to work properly\n  this.create();\n}\n\n/**\n * Set up everything necessary for the dialog to be functioning\n *\n * @param {(NodeList | Element | string)} targets\n * @return {this}\n */\nA11yDialog.prototype.create = function () {\n  this.$el.setAttribute('aria-hidden', true);\n  this.$el.setAttribute('aria-modal', true);\n  this.$el.setAttribute('tabindex', -1);\n\n  if (!this.$el.hasAttribute('role')) {\n    this.$el.setAttribute('role', 'dialog');\n  }\n\n  // Keep a collection of dialog openers, each of which will be bound a click\n  // event listener to open the dialog\n  this._openers = $$('[data-a11y-dialog-show=\"' + this._id + '\"]');\n  this._openers.forEach(\n    function (opener) {\n      opener.addEventListener('click', this._show);\n    }.bind(this)\n  );\n\n  // Keep a collection of dialog closers, each of which will be bound a click\n  // event listener to close the dialog\n  this._closers = $$('[data-a11y-dialog-hide]', this.$el).concat(\n    $$('[data-a11y-dialog-hide=\"' + this._id + '\"]')\n  );\n  this._closers.forEach(\n    function (closer) {\n      closer.addEventListener('click', this._hide);\n    }.bind(this)\n  );\n\n  // Execute all callbacks registered for the `create` event\n  this._fire('create');\n\n  return this\n};\n\n/**\n * Show the dialog element, disable all the targets (siblings), trap the\n * current focus within it, listen for some specific key presses and fire all\n * registered callbacks for `show` event\n *\n * @param {CustomEvent} event\n * @return {this}\n */\nA11yDialog.prototype.show = function (event) {\n  // If the dialog is already open, abort\n  if (this.shown) {\n    return this\n  }\n\n  // Keep a reference to the currently focused element to be able to restore\n  // it later\n  this._previouslyFocused = document.activeElement;\n  this.$el.removeAttribute('aria-hidden');\n  this.shown = true;\n\n  // Set the focus to the dialog element\n  moveFocusToDialog(this.$el);\n\n  // Bind a focus event listener to the body element to make sure the focus\n  // stays trapped inside the dialog while open, and start listening for some\n  // specific key presses (TAB and ESC)\n  document.body.addEventListener('focus', this._maintainFocus, true);\n  document.addEventListener('keydown', this._bindKeypress);\n\n  // Execute all callbacks registered for the `show` event\n  this._fire('show', event);\n\n  return this\n};\n\n/**\n * Hide the dialog element, enable all the targets (siblings), restore the\n * focus to the previously active element, stop listening for some specific\n * key presses and fire all registered callbacks for `hide` event\n *\n * @param {CustomEvent} event\n * @return {this}\n */\nA11yDialog.prototype.hide = function (event) {\n  // If the dialog is already closed, abort\n  if (!this.shown) {\n    return this\n  }\n\n  this.shown = false;\n  this.$el.setAttribute('aria-hidden', 'true');\n\n  // If there was a focused element before the dialog was opened (and it has a\n  // `focus` method), restore the focus back to it\n  // See: https://github.com/KittyGiraudel/a11y-dialog/issues/108\n  if (this._previouslyFocused && this._previouslyFocused.focus) {\n    this._previouslyFocused.focus();\n  }\n\n  // Remove the focus event listener to the body element and stop listening\n  // for specific key presses\n  document.body.removeEventListener('focus', this._maintainFocus, true);\n  document.removeEventListener('keydown', this._bindKeypress);\n\n  // Execute all callbacks registered for the `hide` event\n  this._fire('hide', event);\n\n  return this\n};\n\n/**\n * Destroy the current instance (after making sure the dialog has been hidden)\n * and remove all associated listeners from dialog openers and closers\n *\n * @return {this}\n */\nA11yDialog.prototype.destroy = function () {\n  // Hide the dialog to avoid destroying an open instance\n  this.hide();\n\n  // Remove the click event listener from all dialog openers\n  this._openers.forEach(\n    function (opener) {\n      opener.removeEventListener('click', this._show);\n    }.bind(this)\n  );\n\n  // Remove the click event listener from all dialog closers\n  this._closers.forEach(\n    function (closer) {\n      closer.removeEventListener('click', this._hide);\n    }.bind(this)\n  );\n\n  // Execute all callbacks registered for the `destroy` event\n  this._fire('destroy');\n\n  // Keep an object of listener types mapped to callback functions\n  this._listeners = {};\n\n  return this\n};\n\n/**\n * Register a new callback for the given event type\n *\n * @param {string} type\n * @param {Function} handler\n */\nA11yDialog.prototype.on = function (type, handler) {\n  if (typeof this._listeners[type] === 'undefined') {\n    this._listeners[type] = [];\n  }\n\n  this._listeners[type].push(handler);\n\n  return this\n};\n\n/**\n * Unregister an existing callback for the given event type\n *\n * @param {string} type\n * @param {Function} handler\n */\nA11yDialog.prototype.off = function (type, handler) {\n  var index = (this._listeners[type] || []).indexOf(handler);\n\n  if (index > -1) {\n    this._listeners[type].splice(index, 1);\n  }\n\n  return this\n};\n\n/**\n * Iterate over all registered handlers for given type and call them all with\n * the dialog element as first argument, event as second argument (if any). Also\n * dispatch a custom event on the DOM element itself to make it possible to\n * react to the lifecycle of auto-instantiated dialogs.\n *\n * @access private\n * @param {string} type\n * @param {CustomEvent} event\n */\nA11yDialog.prototype._fire = function (type, event) {\n  var listeners = this._listeners[type] || [];\n  var domEvent = new CustomEvent(type, { detail: event });\n\n  this.$el.dispatchEvent(domEvent);\n\n  listeners.forEach(\n    function (listener) {\n      listener(this.$el, event);\n    }.bind(this)\n  );\n};\n\n/**\n * Private event handler used when listening to some specific key presses\n * (namely ESCAPE and TAB)\n *\n * @access private\n * @param {Event} event\n */\nA11yDialog.prototype._bindKeypress = function (event) {\n  // This is an escape hatch in case there are nested dialogs, so the keypresses\n  // are only reacted to for the most recent one\n  if (!this.$el.contains(document.activeElement)) return\n\n  // If the dialog is shown and the ESCAPE key is being pressed, prevent any\n  // further effects from the ESCAPE key and hide the dialog, unless its role\n  // is 'alertdialog', which should be modal\n  if (\n    this.shown &&\n    event.which === ESCAPE_KEY &&\n    this.$el.getAttribute('role') !== 'alertdialog'\n  ) {\n    event.preventDefault();\n    this.hide(event);\n  }\n\n  // If the dialog is shown and the TAB key is being pressed, make sure the\n  // focus stays trapped within the dialog element\n  if (this.shown && event.which === TAB_KEY) {\n    trapTabKey(this.$el, event);\n  }\n};\n\n/**\n * Private event handler used when making sure the focus stays within the\n * currently open dialog\n *\n * @access private\n * @param {Event} event\n */\nA11yDialog.prototype._maintainFocus = function (event) {\n  // If the dialog is shown and the focus is not within a dialog element (either\n  // this one or another one in case of nested dialogs) or within an element\n  // with the `data-a11y-dialog-focus-trap-ignore` attribute, move it back to\n  // its first focusable child.\n  // See: https://github.com/KittyGiraudel/a11y-dialog/issues/177\n  if (\n    this.shown &&\n    !event.target.closest('[aria-modal=\"true\"]') &&\n    !event.target.closest('[data-a11y-dialog-ignore-focus-trap]')\n  ) {\n    moveFocusToDialog(this.$el);\n  }\n};\n\n/**\n * Convert a NodeList into an array\n *\n * @param {NodeList} collection\n * @return {Array<Element>}\n */\nfunction toArray(collection) {\n  return Array.prototype.slice.call(collection)\n}\n\n/**\n * Query the DOM for nodes matching the given selector, scoped to context (or\n * the whole document)\n *\n * @param {String} selector\n * @param {Element} [context = document]\n * @return {Array<Element>}\n */\nfunction $$(selector, context) {\n  return toArray((context || document).querySelectorAll(selector))\n}\n\n/**\n * Set the focus to the first element with `autofocus` with the element or the\n * element itself\n *\n * @param {Element} node\n */\nfunction moveFocusToDialog(node) {\n  var focused = node.querySelector('[autofocus]') || node;\n\n  focused.focus();\n}\n\n/**\n * Get the focusable children of the given element\n *\n * @param {Element} node\n * @return {Array<Element>}\n */\nfunction getFocusableChildren(node) {\n  return $$(focusableSelectors.join(','), node).filter(function (child) {\n    return !!(\n      child.offsetWidth ||\n      child.offsetHeight ||\n      child.getClientRects().length\n    )\n  })\n}\n\n/**\n * Trap the focus inside the given element\n *\n * @param {Element} node\n * @param {Event} event\n */\nfunction trapTabKey(node, event) {\n  var focusableChildren = getFocusableChildren(node);\n  var focusedItemIndex = focusableChildren.indexOf(document.activeElement);\n\n  // If the SHIFT key is being pressed while tabbing (moving backwards) and\n  // the currently focused item is the first one, move the focus to the last\n  // focusable item from the dialog element\n  if (event.shiftKey && focusedItemIndex === 0) {\n    focusableChildren[focusableChildren.length - 1].focus();\n    event.preventDefault();\n    // If the SHIFT key is not being pressed (moving forwards) and the currently\n    // focused item is the last one, move the focus to the first focusable item\n    // from the dialog element\n  } else if (\n    !event.shiftKey &&\n    focusedItemIndex === focusableChildren.length - 1\n  ) {\n    focusableChildren[0].focus();\n    event.preventDefault();\n  }\n}\n\nfunction instantiateDialogs() {\n  $$('[data-a11y-dialog]').forEach(function (node) {\n    new A11yDialog(node);\n  });\n}\n\nif (typeof document !== 'undefined') {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', instantiateDialogs);\n  } else {\n    if (window.requestAnimationFrame) {\n      window.requestAnimationFrame(instantiateDialogs);\n    } else {\n      window.setTimeout(instantiateDialogs, 16);\n    }\n  }\n}\n\nexport { A11yDialog as default };\n","// Go wild...\n// import Macy from \"macy\";\nimport Lays from 'lays.js'\nimport A11yDialog from 'a11y-dialog';\nvar inViewport = require('in-viewport');\n\nconst maGallery = document.querySelector('.ma-gallery');\n\nif (maGallery) {\n\n  // Grid the gallery\n  // const maGalleryGrid = Macy({\n  //   container: maGallery,\n  //   trueOrder: true,\n  //   waitForImages: false,\n  //   mobileFirst: true,\n  //   margin: 8,\n  //   columns: 1,\n  //   breakAt: {\n  //     520: {\n  //       margin: 16,\n  //       columns: 2\n  //     },\n  //     1024: {\n  //       margin: 32,\n  //       columns: 3\n  //     },\n  //     1440: {\n  //       margin: 48,\n  //       columns: 4\n  //     }\n  //   }\n  // });\n\n  const lays = Lays({\n    parent: maGallery, \n    prependItems: false,\n    maxItems: Infinity,\n    breakpoints: {\n      576: 2,\n      768: 2,\n      992: 3,\n      1200: 4\n    },\n  });\n  lays.render();\n\n  // Gallery modal\n  const galleryItems = maGallery.querySelectorAll('.ma-gallery__item');\n\n  let modalArtworks = '';\n\n  const iconChevronLeft = `<svg \n    xmlns=\"http://www.w3.org/2000/svg\"\n    focusable=\"false\"\n    height=\"24px\" \n    viewBox=\"0 0 24 24\" \n    width=\"24px\" \n    fill=\"#000000\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\n    </svg>`\n\n  const iconChevronRight = `<svg \n    xmlns=\"http://www.w3.org/2000/svg\"\n    focusable = \"false\"\n    height=\"24px\" \n    viewBox=\"0 0 24 24\" \n    width=\"24px\" \n    fill=\"#000000\">\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/>\n    </svg>`;\n\n  // Create Modal Content\n  galleryItems.forEach((item, idx) => {\n    const itemTitle = item.querySelector('.ma-gallery__item__title').innerText;\n    const imageFullPath = item.dataset.imageFull;\n    const itemLink = item.querySelector('.ma-gallery__item__link').getAttribute('href');\n    const itemArtist = item.dataset.artist;\n    const itemArtistUrl = item.dataset.artistUrl;\n    const itemPostId = item.dataset.postId\n\n    // Get a link and add\n    modalArtworks += `\n    <li class=\"ma-gallery-scroller__item\" id=\"ma-gallery-scroll-item-${idx}\" data-post-id=\"${itemPostId}\">\n      <figure class=\"ma-gallery-scroller__item__figure\">\n        <img class=\"ma-gallery-scroller__item__image\" src=\"${imageFullPath}\" alt=\"Artwork: ${itemTitle}\" loading=\"lazy\" />\n        <figcaption class=\"ma-gallery-scroller__item__title\">\n          <a href=\"${itemLink}\">${itemTitle}</a> \n          by <a href=\"${itemArtistUrl}\">${itemArtist}</a>\n        </figcaption>\n      </figure>\n    </li>`\n  });\n\n  // modal markup\n  const modal = document.createElement('div');\n  modal.classList.add('dialog');\n  modal.id = \"my-dialog\";\n  modal.setAttribute('aria-hidden', true);\n  modal.innerHTML = `<div class=\"dialog-overlay\" tabindex=\"-1\" data-a11y-dialog-hide></div>\n    <div\n      role=\"dialog\"\n      class=\"dialog-content\"\n      aria-label=\"Gallery artwork viewer\"\n    >\n      <button\n        data-a11y-dialog-hide\n        class=\"dialog-close\"\n        aria-label=\"Close this dialog window\"\n      >\n        &times;\n      </button>\n\n      <ul class=\"ma-gallery-scroller\">\n        ${modalArtworks}\n      </ul>\n      <div class=\"ma-gallery-scroller-nav\"> \n        <button class=\"ma-gallery-scroller-nav__prev\"><span class=\"sr-only\">Previous</span>${iconChevronLeft}</button>\n        <button class=\"ma-gallery-scroller-nav__next\"><span class=\"sr-only\">Next</span>${iconChevronRight}</button>\n      </div>\n\n    </div>`;\n\n  document.body.appendChild(modal);\n\n  var dialogEl = document.getElementById('my-dialog')\n  var mainEl = document.querySelector('main')\n  var dialog = new A11yDialog(dialogEl, mainEl)\n\n  dialog.on('show', function (dialogEl, triggerEl) {\n    // console.log(dialogEl)\n    // console.log(triggerEl)\n\n    const galleryScroller = dialogEl.querySelector('.ma-gallery-scroller');\n    const galleryItems = galleryScroller.querySelectorAll('.ma-gallery-scroller__item');\n    // console.log(galleryScroller)\n\n    const buttonPrev = dialogEl.querySelector('.ma-gallery-scroller-nav__prev');\n    const buttonNext = dialogEl.querySelector('.ma-gallery-scroller-nav__next');\n\n    const navigateScroller = (evt, type) => {\n      galleryItems.forEach((item, idx) => {\n        let currentVisible = inViewport(item, {\n          container: galleryScroller,\n          offset: -100\n        });\n\n        if (currentVisible) {\n          const targetElIdx = ( type === \"next\") ? idx + 1 : idx - 1;\n          galleryItems[targetElIdx].scrollIntoView({\n            behavior: \"smooth\",\n          });\n        }\n      })\n    }\n\n    buttonPrev.addEventListener(\"click\", (evt) => {\n      navigateScroller(evt, 'prev')\n    })\n\n    buttonNext.addEventListener(\"click\", (evt) => {\n      navigateScroller(evt, 'next')\n    })\n\n    // Listen for scroll events as we;ll need to \n    // disable buttons when scroll reaches beginning or end\n    // Setup isScrolling variable\n    let isScrolling;\n    galleryScroller.addEventListener('scroll', function (event) {\n\n      // Clear our timeout throughout the scroll\n      window.clearTimeout(isScrolling);\n\n      // Set a timeout to run after scrolling ends\n      isScrolling = setTimeout(function () {\n\n        // Run the callback\n        galleryItems.forEach((item, idx) => {\n          let currentVisible = inViewport(item, {\n            container: galleryScroller,\n            offset: -100\n          });\n\n          if (currentVisible) {\n\n            // Disable button if reached beginning or end\n            if (galleryItems.length - 1 === idx) {\n              console.log('end of the line');\n              buttonPrev.disabled = false;\n              buttonNext.disabled = true;\n            } else if (idx === 0) {\n              console.log('start of the line');\n              buttonPrev.disabled = true;\n              buttonNext.disabled = false;\n            } else {\n              buttonPrev.disabled = false;\n              buttonNext.disabled = false;\n            }\n\n            // Update url hash\n            const itemPostId = item.dataset.postId\n            // history.pushState(null, null, '#item-' + itemPostId);\n            history.replaceState(null, null, '#item-' + itemPostId)\n          }\n        })\n\n      }, 66);\n\n    }, false);\n  })\n\n  dialog.on('hide', () => {\n    console.log('dialog closed');\n    location.hash = \"\"\n    history.replaceState(\"\", \"\", location.pathname)\n  })\n\n\n  galleryItems.forEach( (galleryItem, idx) => {\n\n    const imageFullPath = galleryItem.dataset.imageFull;\n    const itemHeading = galleryItem.querySelector('.ma-gallery__item__title')\n    const link = itemHeading.querySelector('.ma-gallery__item__link')\n    const linkInner = link.innerHTML;\n\n    galleryItem.dataset.itemIndex = idx;\n\n    // Swap link for button\n    itemHeading.innerHTML = `<button class=\"ma-gallery__item__button\" data-a11y-dialog-show=\"my-dialog\">${linkInner}</button>`\n\n    const itemButton = itemHeading.querySelector('.ma-gallery__item__button')\n\n    itemButton.onclick = () => {\n\n      const itemIndex = galleryItem.dataset.itemIndex;\n      const targetItem = document.getElementById('ma-gallery-scroll-item-' + itemIndex)\n\n      // Open gallery modal\n      dialog.show();\n\n      // Re-enable buttons (they may have been disable in previous opening)\n      const buttonPrev = dialogEl.querySelector('.ma-gallery-scroller-nav__prev');\n      const buttonNext = dialogEl.querySelector('.ma-gallery-scroller-nav__next');\n      buttonPrev.disabled = false;\n      buttonNext.disabled = false;\n\n      // Scroll to clicked item\n      targetItem.scrollIntoView();\n\n      // Disable previous button if first item\n      if (itemIndex == 0) {\n        buttonPrev.disabled = true\n      }\n    }\n\n  })\n\n  // Open on hash link\n  if (window.location.hash && window.location.hash.startsWith('#item-')) {\n    const itemToOpenPostId = window.location.hash.replace('#item-', '');\n    const itemToOpen = document.querySelector(`[data-post-id=\"${itemToOpenPostId}\"]`);\n\n    if (itemToOpen) {\n      const itemToOpenButton = itemToOpen.querySelector('button');\n      // Button focus \n      itemToOpenButton.focus();\n      // Button click\n      itemToOpenButton.click();\n    }\n  }\n}\n\n// Artwork series dialog\n\nvar artworkSeriesDialogEl = document.getElementById('dialog-artwork-series')\n// var mainEl = document.querySelector('main')\nif (artworkSeriesDialogEl) {\n\n  var artworkSeriesDialog = new A11yDialog(artworkSeriesDialogEl, mainEl)\n\n  const buttonArtworkSeriesDialog = document.getElementById('dialog-artwork-series-open');\n\n  buttonArtworkSeriesDialog.addEventListener('click', () => {\n    artworkSeriesDialog.show();\n\n    // Re-enable buttons (they may have been disable in previous opening)\n    const buttonPrev = artworkSeriesDialogEl.querySelector('.ma-gallery-scroller-nav__prev');\n    const buttonNext = artworkSeriesDialogEl.querySelector('.ma-gallery-scroller-nav__next');\n    buttonPrev.disabled = false;\n    buttonNext.disabled = false;\n\n  })\n\n  artworkSeriesDialog.on('show', function (artworkSeriesDialogEl, triggerEl) {\n    // console.log(dialogEl)\n    // console.log(triggerEl)\n\n    const galleryScroller = artworkSeriesDialogEl.querySelector('.ma-gallery-scroller');\n    const galleryItems = galleryScroller.querySelectorAll('.ma-gallery-scroller__item');\n    // console.log(galleryScroller)\n\n    const buttonPrev = artworkSeriesDialogEl.querySelector('.ma-gallery-scroller-nav__prev');\n    const buttonNext = artworkSeriesDialogEl.querySelector('.ma-gallery-scroller-nav__next');\n\n    const navigateScroller = (evt, type) => {\n      galleryItems.forEach((item, idx) => {\n        let currentVisible = inViewport(item, {\n          container: galleryScroller,\n          offset: -100\n        });\n\n        if (currentVisible) {\n          const targetElIdx = (type === \"next\") ? idx + 1 : idx - 1;\n          galleryItems[targetElIdx].scrollIntoView({\n            behavior: \"smooth\",\n          });\n        }\n      })\n    }\n\n    buttonPrev.addEventListener(\"click\", (evt) => {\n      navigateScroller(evt, 'prev')\n    })\n\n    buttonNext.addEventListener(\"click\", (evt) => {\n      navigateScroller(evt, 'next')\n    })\n\n    // Listen for scroll events as we;ll need to \n    // disable buttons when scroll reaches beginning or end\n    // Setup isScrolling variable\n    let isScrolling;\n    galleryScroller.addEventListener('scroll', function (event) {\n\n      // Clear our timeout throughout the scroll\n      window.clearTimeout(isScrolling);\n\n      // Set a timeout to run after scrolling ends\n      isScrolling = setTimeout(function () {\n\n        // Run the callback\n        galleryItems.forEach((item, idx) => {\n\n          let currentVisible = inViewport(item, {\n            container: galleryScroller,\n            offset: -200\n          });\n\n          if (currentVisible) {\n\n            // Disable button if reached beginning or end\n            if (galleryItems.length - 1 === idx) {\n              console.log('end of the line');\n              buttonPrev.disabled = false;\n              buttonNext.disabled = true;\n            } else if (idx === 0) {\n              console.log('start of the line');\n              buttonPrev.disabled = true;\n              buttonNext.disabled = false;\n            } else {\n              buttonPrev.disabled = false;\n              buttonNext.disabled = false;\n            }\n          }\n        })\n\n      }, 66);\n\n    }, false);\n  })\n\n}\n\n\nconst pinchZoom = (imageElement) => {\n  let imageElementScale = 1;\n\n  let start = {};\n\n  // Calculate distance between two fingers\n  const distance = (event) => {\n    return Math.hypot(event.touches[0].pageX - event.touches[1].pageX, event.touches[0].pageY - event.touches[1].pageY);\n  };\n\n  imageElement.addEventListener('touchstart', (event) => {\n    console.log('touchstart', event);\n    if (event.touches.length === 2) {\n      event.preventDefault(); // Prevent page scroll\n\n      // Calculate where the fingers have started on the X and Y axis\n      start.x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n      start.y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n      start.distance = distance(event);\n    }\n  });\n\n  imageElement.addEventListener('touchmove', (event) => {\n    console.log('touchmove', event);\n    if (event.touches.length === 2) {\n      event.preventDefault(); // Prevent page scroll\n      let scale;\n\n      // Safari provides event.scale as two fingers move on the screen\n      // For other browsers just calculate the scale manually\n      if (event.scale) {\n        scale = event.scale;\n      } else {\n        const deltaDistance = distance(event);\n        scale = deltaDistance / startDistance;\n      }\n\n      imageElementScale = Math.min(Math.max(1, scale), 4);\n\n      // Calculate how much the fingers have moved on the X and Y axis\n      const deltaX = (((event.touches[0].pageX + event.touches[1].pageX) / 2) - start.x) * 2; // x2 for accelarated movement\n      const deltaY = (((event.touches[0].pageY + event.touches[1].pageY) / 2) - start.y) * 2; // x2 for accelarated movement\n\n      // Transform the image to make it grow and move with fingers\n      const transform = `translate3d(${deltaX}px, ${deltaY}px, 0) scale(${imageElementScale})`;\n      imageElement.style.transform = transform;\n      imageElement.style.WebkitTransform = transform;\n      imageElement.style.zIndex = \"9999\";\n    }\n  });\n\n  imageElement.addEventListener('touchend', (event) => {\n    console.log('touchend', event);\n    // Reset image to it's original format\n    imageElement.style.transform = \"\";\n    imageElement.style.WebkitTransform = \"\";\n    imageElement.style.zIndex = \"\";\n  });\n}\n\n\nconst pinchZoomImages = document.querySelectorAll('.ma-gallery-scroller__item__image');\n\npinchZoomImages.forEach( (image) => {\n\n  pinchZoom(image);\n\n\n})\n"],"sourceRoot":""}