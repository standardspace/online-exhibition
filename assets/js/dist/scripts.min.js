!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";var i=function(e,t){for(var n in t)e[n]=t[n]};var o,r=function(e){var t=[];return e=e||1/0,t.fixedSize=e,t.push=function(){return[].push.apply(this,arguments),this.length<=this.fixedSize?[]:this.splice(0,this.length-this.fixedSize)},t.unshift=function(){return[].unshift.apply(this,arguments),this.length<=this.fixedSize?[]:this.splice(this.fixedSize)},t},a=(o={},{fire:function(e){var t=o[e];void 0!==t&&t.map((function(e){return e()}))},on:function(e,t){void 0===o[e]&&(o[e]=[]),o[e].push(t)}});e.exports=function(e){var t=e.parent;if(t){var n={prependItems:!1,maxItems:void 0,breakpoints:{540:2,720:3,1024:4,1280:5}};i(n.breakpoints,e.breakpoints),i(n,e);var o=n.maxItems,s=n.breakpoints,l=n.prependItems?"unshift":"push",c=r(o),u=r(o),d=[],h=1;t.classList.add("_laysContainer");var f,m,p,v=function(e){e.classList.add("_laysItem"),[].push.apply(d,c[l](e)),u[l](e)},y=function(){var e,n=(e=h,Array.apply(null,Array(e)).map((function(){return 0}))),i=t.offsetWidth/h,o=0,r=0;c.map((function(e){var t=i*r,o=n[r];e.style.cssText+="position:absolute;width:"+i+"px;-ms-transform:translate("+t+"px,"+o+"px);transform:translate("+t+"px,"+o+"px);",r=function(e,t,n){return t[n]+=e.offsetHeight,t.map((function(e,i){n=e<t[n]?i:n})),n}(e,n,r)})),o=n.reduce((function(e,t){return t>e?t:e}),0),t.style.cssText+="width:100%;height:"+o+"px;"},g=function(){!function(){if(u.length){var e=document.createDocumentFragment();d.map((function(e){return t.removeChild(e)})),u.map((function(t){return e.appendChild(t)})),u.length=0,d.length=0,t.appendChild(e)}}(),h=1,Object.keys(s).map((function(e){t.offsetWidth>e&&(h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return e>t?e<=n?e:n:t}(s[e],1,10))})),y()};return window.addEventListener("resize",(f=function(){a.fire("resize"),g()},m=200,p=void 0,function(){p&&clearTimeout(p),p=setTimeout(f,m)})),[].map.call(t.children,(function(e){return v(e)})),{add:v,render:g,on:a.on,_items:c}}}},function(e,t){Modernizr.objectfit||document.querySelectorAll(".ob-image").forEach((function(e){var t=e.querySelector("img").src;t&&(e.style.backgroundImage="url('".concat(t,"')"),e.classList.add("ob-image--active"))}))},function(e,t,n){(function(t){e.exports=function(e,a,s){var l={container:t.document.body,offset:0,debounce:15,failsafe:150};void 0!==a&&"function"!=typeof a||(s=a,a={});var c=l.container=a.container||l.container,u=l.offset=a.offset||l.offset,d=l.debounce=a.debounce||l.debounce,h=l.failsafe=a.failsafe||l.failsafe;!0===h?h=150:!1===h&&(h=0);h>0&&h<d&&(h=d+50);for(var f=0;f<n.length;f++)if(n[f].container===c&&n[f]._debounce===d&&n[f]._failsafe===h)return n[f].isInViewport(e,u,s);return n[n.push(function(e,n,a){var s=function(){var e=[];function t(t){for(var n=e.length-1;n>=0;n--)if(e[n][0]===t)return n;return-1}function n(e){return-1!==t(e)}return{add:function(t,i,o){n(t)||e.push([t,i,o])},remove:function(n){var i=t(n);-1!==i&&e.splice(i,1)},isWatched:n,checkAll:function(t){return function(){for(var n=e.length-1;n>=0;n--)t.apply(this,e[n])}}}}(),l=e===t.document.body?t:e,c=(u=s.checkAll((function(e,t,n){m(e,t)&&(s.remove(e),n(e))})),d=n,function(){var e=this,t=arguments,n=h&&!f;function i(){f=null,h||u.apply(e,t)}clearTimeout(f),f=setTimeout(i,d),n&&u.apply(e,t)});var u,d,h,f;o(l,"scroll",c),l===t&&o(t,"resize",c);i&&function(e,t,n){var i=new MutationObserver((function(e){!0===e.some(a)&&setTimeout(n,0)})),o=Array.prototype.filter,r=Array.prototype.concat;function a(t){var n=r.call([],Array.prototype.slice.call(t.addedNodes),t.target);return o.call(n,e.isWatched).length>0}i.observe(t,{childList:!0,subtree:!0,attributes:!0})}(s,e,c);a>0&&setInterval(c,a);function m(n,i){if(!n)return!1;if(!r(t.document.documentElement)||!r(t.document.documentElement))return!1;if(!n.offsetWidth||!n.offsetHeight)return!1;var o=n.getBoundingClientRect(),a={};if(e===t.document.body)a={top:-i,left:-i,right:t.document.documentElement.clientWidth+i,bottom:t.document.documentElement.clientHeight+i};else{var s=e.getBoundingClientRect();a={top:s.top-i,left:s.left-i,right:s.right+i,bottom:s.bottom+i}}return o.right>=a.left&&o.left<=a.right&&o.bottom>=a.top&&o.top<=a.bottom}return{container:e,isInViewport:function(e,t,n){if(!n)return m(e,t);var i=function(e,t,n){return{watch:function(){s.add(e,t,n)},dispose:function(){s.remove(e)}}}(e,t,n);return i.watch(),i},_debounce:n,_failsafe:a}}(c,d,h))-1].isInViewport(e,u,s)};var n=[],i="function"==typeof t.MutationObserver;function o(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}var r=function(){return!t.document||(t.document.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:t.document.documentElement.contains?function(e,t){return e!==t&&!!e.contains&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1})}}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(1);var i=n(0),o=n.n(i),r=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"])','input[type="radio"]:not([disabled]):not([tabindex^="-"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','iframe:not([tabindex^="-"])','audio[controls]:not([tabindex^="-"])','video[controls]:not([tabindex^="-"])','[contenteditable]:not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])'];function a(e){this._show=this.show.bind(this),this._hide=this.hide.bind(this),this._maintainFocus=this._maintainFocus.bind(this),this._bindKeypress=this._bindKeypress.bind(this),this.$el=e,this.shown=!1,this._id=this.$el.getAttribute("data-a11y-dialog")||this.$el.id,this._previouslyFocused=null,this._listeners={},this.create()}function s(e,t){return n=(t||document).querySelectorAll(e),Array.prototype.slice.call(n);var n}function l(e){(e.querySelector("[autofocus]")||e).focus()}function c(){s("[data-a11y-dialog]").forEach((function(e){new a(e)}))}a.prototype.create=function(){return this.$el.setAttribute("aria-hidden",!0),this.$el.setAttribute("aria-modal",!0),this.$el.setAttribute("tabindex",-1),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),this._openers=s('[data-a11y-dialog-show="'+this._id+'"]'),this._openers.forEach(function(e){e.addEventListener("click",this._show)}.bind(this)),this._closers=s("[data-a11y-dialog-hide]",this.$el).concat(s('[data-a11y-dialog-hide="'+this._id+'"]')),this._closers.forEach(function(e){e.addEventListener("click",this._hide)}.bind(this)),this._fire("create"),this},a.prototype.show=function(e){return this.shown||(this._previouslyFocused=document.activeElement,this.$el.removeAttribute("aria-hidden"),this.shown=!0,l(this.$el),document.body.addEventListener("focus",this._maintainFocus,!0),document.addEventListener("keydown",this._bindKeypress),this._fire("show",e)),this},a.prototype.hide=function(e){return this.shown?(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),this._previouslyFocused&&this._previouslyFocused.focus&&this._previouslyFocused.focus(),document.body.removeEventListener("focus",this._maintainFocus,!0),document.removeEventListener("keydown",this._bindKeypress),this._fire("hide",e),this):this},a.prototype.destroy=function(){return this.hide(),this._openers.forEach(function(e){e.removeEventListener("click",this._show)}.bind(this)),this._closers.forEach(function(e){e.removeEventListener("click",this._hide)}.bind(this)),this._fire("destroy"),this._listeners={},this},a.prototype.on=function(e,t){return void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t),this},a.prototype.off=function(e,t){var n=(this._listeners[e]||[]).indexOf(t);return n>-1&&this._listeners[e].splice(n,1),this},a.prototype._fire=function(e,t){var n=this._listeners[e]||[],i=new CustomEvent(e,{detail:t});this.$el.dispatchEvent(i),n.forEach(function(e){e(this.$el,t)}.bind(this))},a.prototype._bindKeypress=function(e){this.$el.contains(document.activeElement)&&(this.shown&&27===e.which&&"alertdialog"!==this.$el.getAttribute("role")&&(e.preventDefault(),this.hide(e)),this.shown&&9===e.which&&function(e,t){var n=function(e){return s(r.join(","),e).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}(e),i=n.indexOf(document.activeElement);t.shiftKey&&0===i?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||i!==n.length-1||(n[0].focus(),t.preventDefault())}(this.$el,e))},a.prototype._maintainFocus=function(e){!this.shown||e.target.closest('[aria-modal="true"]')||e.target.closest("[data-a11y-dialog-ignore-focus-trap]")||l(this.$el)},"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):window.requestAnimationFrame?window.requestAnimationFrame(c):window.setTimeout(c,16));var u=n(2),d=document.querySelector(".ma-gallery");if(d){o()({parent:d,prependItems:!1,maxItems:1/0,breakpoints:{576:2,768:2,992:3,1200:4}}).render();var h=d.querySelectorAll(".ma-gallery__item"),f="";h.forEach((function(e,t){var n=e.querySelector(".ma-gallery__item__title").innerText,i=e.dataset.imageFull,o=e.querySelector(".ma-gallery__item__link").getAttribute("href"),r=e.dataset.artist,a=e.dataset.artistUrl,s=e.dataset.postId;f+='\n    <li class="ma-gallery-scroller__item" id="ma-gallery-scroll-item-'.concat(t,'" data-post-id="').concat(s,'">\n      <figure class="ma-gallery-scroller__item__figure">\n        <img class="ma-gallery-scroller__item__image" src="').concat(i,'" alt="Artwork: ').concat(n,'" loading="lazy" />\n        <figcaption class="ma-gallery-scroller__item__title">\n          <a href="').concat(o,'">').concat(n,'</a> \n          by <a href="').concat(a,'">').concat(r,"</a>\n        </figcaption>\n      </figure>\n    </li>")}));var m=document.createElement("div");m.classList.add("dialog"),m.id="my-dialog",m.setAttribute("aria-hidden",!0),m.innerHTML='<div class="dialog-overlay" tabindex="-1" data-a11y-dialog-hide></div>\n    <div\n      role="dialog"\n      class="dialog-content"\n      aria-label="Gallery artwork viewer"\n    >\n      <button\n        data-a11y-dialog-hide\n        class="dialog-close"\n        aria-label="Close this dialog window"\n      >\n        &times;\n      </button>\n\n      <ul class="ma-gallery-scroller">\n        '.concat(f,'\n      </ul>\n      <div class="ma-gallery-scroller-nav"> \n        <button class="ma-gallery-scroller-nav__prev"><span class="sr-only">Previous</span>').concat('<svg \n    xmlns="http://www.w3.org/2000/svg"\n    focusable="false"\n    height="24px" \n    viewBox="0 0 24 24" \n    width="24px" \n    fill="#000000">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>\n    </svg>','</button>\n        <button class="ma-gallery-scroller-nav__next"><span class="sr-only">Next</span>').concat('<svg \n    xmlns="http://www.w3.org/2000/svg"\n    focusable = "false"\n    height="24px" \n    viewBox="0 0 24 24" \n    width="24px" \n    fill="#000000">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>\n    </svg>',"</button>\n      </div>\n\n    </div>"),document.body.appendChild(m);var p=document.getElementById("my-dialog"),v=document.querySelector("main"),y=new a(p,v);if(y.on("show",(function(e,t){var n,i=e.querySelector(".ma-gallery-scroller"),o=i.querySelectorAll(".ma-gallery-scroller__item"),r=e.querySelector(".ma-gallery-scroller-nav__prev"),a=e.querySelector(".ma-gallery-scroller-nav__next"),s=function(e,t){o.forEach((function(e,n){u(e,{container:i,offset:-100})&&o["next"===t?n+1:n-1].scrollIntoView({behavior:"smooth"})}))};r.addEventListener("click",(function(e){s(0,"prev")})),a.addEventListener("click",(function(e){s(0,"next")})),i.addEventListener("scroll",(function(e){window.clearTimeout(n),n=setTimeout((function(){o.forEach((function(e,t){if(u(e,{container:i,offset:-100})){o.length-1===t?(console.log("end of the line"),r.disabled=!1,a.disabled=!0):0===t?(console.log("start of the line"),r.disabled=!0,a.disabled=!1):(r.disabled=!1,a.disabled=!1);var n=e.dataset.postId;history.replaceState(null,null,"#item-"+n)}}))}),66)}),!1)})),y.on("hide",(function(){console.log("dialog closed"),location.hash="",history.replaceState("","",location.pathname)})),h.forEach((function(e,t){e.dataset.imageFull;var n=e.querySelector(".ma-gallery__item__title"),i=n.querySelector(".ma-gallery__item__link").innerHTML;e.dataset.itemIndex=t,n.innerHTML='<button class="ma-gallery__item__button" data-a11y-dialog-show="my-dialog">'.concat(i,"</button>"),n.querySelector(".ma-gallery__item__button").onclick=function(){var t=e.dataset.itemIndex,n=document.getElementById("ma-gallery-scroll-item-"+t);y.show();var i=p.querySelector(".ma-gallery-scroller-nav__prev"),o=p.querySelector(".ma-gallery-scroller-nav__next");i.disabled=!1,o.disabled=!1,n.scrollIntoView(),0==t&&(i.disabled=!0)}})),window.location.hash&&window.location.hash.startsWith("#item-")){var g=window.location.hash.replace("#item-",""),b=document.querySelector('[data-post-id="'.concat(g,'"]'));if(b){var _=b.querySelector("button");_.focus(),_.click()}}}var w=document.getElementById("dialog-artwork-series");if(w){var x=new a(w,v);document.getElementById("dialog-artwork-series-open").addEventListener("click",(function(){x.show();var e=w.querySelector(".ma-gallery-scroller-nav__prev"),t=w.querySelector(".ma-gallery-scroller-nav__next");e.disabled=!1,t.disabled=!1})),x.on("show",(function(e,t){var n,i=e.querySelector(".ma-gallery-scroller"),o=i.querySelectorAll(".ma-gallery-scroller__item"),r=e.querySelector(".ma-gallery-scroller-nav__prev"),a=e.querySelector(".ma-gallery-scroller-nav__next"),s=function(e,t){o.forEach((function(e,n){u(e,{container:i,offset:-100})&&o["next"===t?n+1:n-1].scrollIntoView({behavior:"smooth"})}))};r.addEventListener("click",(function(e){s(0,"prev")})),a.addEventListener("click",(function(e){s(0,"next")})),i.addEventListener("scroll",(function(e){window.clearTimeout(n),n=setTimeout((function(){o.forEach((function(e,t){u(e,{container:i,offset:-200})&&(o.length-1===t?(console.log("end of the line"),r.disabled=!1,a.disabled=!0):0===t?(console.log("start of the line"),r.disabled=!0,a.disabled=!1):(r.disabled=!1,a.disabled=!1))}))}),66)}),!1)}))}document.querySelectorAll(".ma-gallery-scroller__item__image").forEach((function(e){var t,n,i,o;n=1,i={},o=function(e){return Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY)},(t=e).addEventListener("touchstart",(function(e){console.log("touchstart",e),2===e.touches.length&&(e.preventDefault(),i.x=(e.touches[0].pageX+e.touches[1].pageX)/2,i.y=(e.touches[0].pageY+e.touches[1].pageY)/2,i.distance=o(e))})),t.addEventListener("touchmove",(function(e){if(console.log("touchmove",e),2===e.touches.length){var r;e.preventDefault(),r=e.scale?e.scale:o(e)/startDistance,n=Math.min(Math.max(1,r),4);var a=2*((e.touches[0].pageX+e.touches[1].pageX)/2-i.x),s=2*((e.touches[0].pageY+e.touches[1].pageY)/2-i.y),l="translate3d(".concat(a,"px, ").concat(s,"px, 0) scale(").concat(n,")");t.style.transform=l,t.style.WebkitTransform=l,t.style.zIndex="9999"}})),t.addEventListener("touchend",(function(e){console.log("touchend",e),t.style.transform="",t.style.WebkitTransform="",t.style.zIndex=""}))}));n(4)}]);
//# sourceMappingURL=scripts.min.js.map